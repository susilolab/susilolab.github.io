<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Register Javascript per modul di Phoenix - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Dalam mengembangkan aplikasi web dengan framework Phoenix kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file app.js yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi render_existing/3."><meta property="og:image" content><meta property="og:title" content="Register Javascript per modul di Phoenix"><meta property="og:description" content="Dalam mengembangkan aplikasi web dengan framework Phoenix kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file app.js yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi render_existing/3."><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/2019-09-18-register-javascript-per-module-di-phoenix/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-18T08:00:00+00:00"><meta property="article:modified_time" content="2019-09-18T08:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Register Javascript per modul di Phoenix"><meta name=twitter:description content="Dalam mengembangkan aplikasi web dengan framework Phoenix kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file app.js yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi render_existing/3."><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>Register Javascript per modul di Phoenix</h1><div class=meta><i data-feather=calendar></i> 18 Sep 2019</div><div class=page-categories><a href=/categories/elixir/>elixir</a></div></div><section class=body><p>Dalam mengembangkan aplikasi web dengan framework <a href=https://phoenixframework.org/><code>Phoenix</code></a> kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file <code>app.js</code> yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi <code>render_existing/3</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span>render_existing(module, template, assigns \\ [])</span></span></code></pre></div><p>Contoh struktur aplikasi phoenix</p><p><img src=/img/struktur-app-2019-09-18-110906.png alt=struktur-aplikasi></p><p>Dalam kasus ini kita akan membuat file <code>book.js</code> hanya dimuat pada controller Buku saja, untuk pertama-tama kita salin/buat file <code>book.js</code> didalam folder <code>priv/static/js</code> kemudian pada file layout <code>lib/book_store_web/templates/layout/app.html.eex</code> tambahkan kode berikut</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>%</span><span style=color:#f92672>=</span> render_existing(<span style=color:#a6e22e>@view_module</span>, <span style=color:#e6db74>&#34;script.html&#34;</span>, assigns) <span style=color:#960050;background-color:#1e0010>%</span><span style=color:#f92672>&gt;</span></span></span></code></pre></div><p>Dibawah kode ini:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#f92672>&lt;</span>script type<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/javascript&#34;</span> src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&lt;%= Routes.static_path(@conn, &#34;</span><span style=color:#f92672>/</span>js<span style=color:#f92672>/</span>app<span style=color:#f92672>.</span>js<span style=color:#e6db74>&#34;) %&gt;&#34;</span><span style=color:#f92672>&gt;&lt;/</span>script<span style=color:#f92672>&gt;</span></span></span></code></pre></div><p>Lalu bikin fungsi render pada file <code>lib/book_store_web/views/book_view.ex</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#66d9ef>def</span> render(<span style=color:#e6db74>&#34;script.html&#34;</span>, _assigns) <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>~s{&lt;script type=&#34;text/javascript&#34; src=&#34;/js/book.js&#34;&gt;&lt;/script&gt;}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>|&gt;</span> raw
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span></span></span></code></pre></div><p>semoga bermanfaat</p></section><div class=post-tags></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 Â© susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>