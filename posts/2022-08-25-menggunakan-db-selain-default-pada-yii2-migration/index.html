<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Menggunakan db selain default pada Yii2 migration - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="
Secara default Yii 2 migration menggunakan database dengan nama db hal ini dapat dicek pada config database dibawah subkey components
namun jika kita memiliki banyak koneksi maka kita harus menyebutkan database mana yang akan dipakai pada fungsi init pada tiap file migrate."><meta property="og:image" content><meta property="og:title" content="Menggunakan db selain default pada Yii2 migration"><meta property="og:description" content="
Secara default Yii 2 migration menggunakan database dengan nama db hal ini dapat dicek pada config database dibawah subkey components
namun jika kita memiliki banyak koneksi maka kita harus menyebutkan database mana yang akan dipakai pada fungsi init pada tiap file migrate."><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/2022-08-25-menggunakan-db-selain-default-pada-yii2-migration/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-25T06:00:00+00:00"><meta property="article:modified_time" content="2022-08-25T06:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Menggunakan db selain default pada Yii2 migration"><meta name=twitter:description content="
Secara default Yii 2 migration menggunakan database dengan nama db hal ini dapat dicek pada config database dibawah subkey components
namun jika kita memiliki banyak koneksi maka kita harus menyebutkan database mana yang akan dipakai pada fungsi init pada tiap file migrate."><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>Menggunakan db selain default pada Yii2 migration</h1><div class=meta><i data-feather=calendar></i> 25 Aug 2022</div><div class=page-categories><a href=/categories/php/>php</a></div></div><section class=body><p><img src=/img/yii-logo.svg alt="yii framework"></p><p>Secara default Yii 2 migration menggunakan database dengan nama <code>db</code> hal ini dapat dicek pada config database dibawah subkey <code>components</code>
namun jika kita memiliki banyak koneksi maka kita harus menyebutkan database mana yang akan dipakai pada fungsi <code>init</code> pada tiap file migrate.</p><p>Untuk merubah koneksi database ke selain default maka kita perlu mensetnya pada fungsi <code>init</code> pada tiap file migrate. Misalnya kita ingin merubah
koneksi dari default ke <code>db1</code> maka kita bisa set ke property <code>db</code>. berikut kodenya:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>yii\db\Migration</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>m161220_091743_create_user_table</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Migration</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>init</span>()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>db</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;db1&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>parent</span><span style=color:#f92672>::</span><span style=color:#a6e22e>init</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// public function safeUp() {}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// public function safeDown() {}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}</span></span></code></pre></div><p>Dengan begitu maka pada saat migrate dijalankan operasi akan dilakukan ke nama database yang sesuai dengan informasi koneksi yaitu <code>db1</code>. sekian semoga
bermanfaat.</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/php>php</a></li><li><a href=/tags/yii>yii</a></li></ul></nav></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 Â© susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>