<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Mengenal array_filter, array_map dan array_reduce pada PHP - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Assalamu&rsquo;alaikum, pada kesempatan kali ini saya ingin mengenalkan penggunaan fungsi array_filter,
array_map dan array_reduce untuk mengolah data array. Biasanya kita mengolah data array dengan cara lama
yaitu dengan fungsi for atau foreach digabung dengan if untuk kondisinya. Nah kali ini saya akan
menggunakan fungsi array_[filter|map|reduce]. Kita akan lihat kelebihan menggunakan cara ini."><meta property="og:image" content><meta property="og:title" content="Mengenal array_filter, array_map dan array_reduce pada PHP"><meta property="og:description" content="Assalamu&rsquo;alaikum, pada kesempatan kali ini saya ingin mengenalkan penggunaan fungsi array_filter,
array_map dan array_reduce untuk mengolah data array. Biasanya kita mengolah data array dengan cara lama
yaitu dengan fungsi for atau foreach digabung dengan if untuk kondisinya. Nah kali ini saya akan
menggunakan fungsi array_[filter|map|reduce]. Kita akan lihat kelebihan menggunakan cara ini."><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/backup2021-03-06-mengenal-array-map-filter-dan-reduce-pada-php/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-06T07:00:00+00:00"><meta property="article:modified_time" content="2021-03-06T07:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mengenal array_filter, array_map dan array_reduce pada PHP"><meta name=twitter:description content="Assalamu&rsquo;alaikum, pada kesempatan kali ini saya ingin mengenalkan penggunaan fungsi array_filter,
array_map dan array_reduce untuk mengolah data array. Biasanya kita mengolah data array dengan cara lama
yaitu dengan fungsi for atau foreach digabung dengan if untuk kondisinya. Nah kali ini saya akan
menggunakan fungsi array_[filter|map|reduce]. Kita akan lihat kelebihan menggunakan cara ini."><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>Mengenal array_filter, array_map dan array_reduce pada PHP</h1><div class=meta><i data-feather=calendar></i> 6 Mar 2021</div><div class=page-categories><a href=/categories/php/>php</a></div></div><section class=body><p>Assalamu&rsquo;alaikum, pada kesempatan kali ini saya ingin mengenalkan penggunaan fungsi <code>array_filter</code>,
<code>array_map</code> dan <code>array_reduce</code> untuk mengolah data array. Biasanya kita mengolah data array dengan cara lama
yaitu dengan fungsi <code>for</code> atau <code>foreach</code> digabung dengan <code>if</code> untuk kondisinya. Nah kali ini saya akan
menggunakan fungsi <code>array_[filter|map|reduce]</code>. Kita akan lihat kelebihan menggunakan cara ini.</p><h2 id=array_filter>array_filter</h2><p>Pertama saya akan mendemokan dengan fungsi <code>array_filter</code> dulu, fungsi ini berguna untuk menyaring data array.
Misalnya kita punya data user yang berisi id, name dan group_id dan kita ingin menyaringnya berdasarkan idnya.
Kita lihat dulu cara lamanya<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> $id;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> $name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> $group_id;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> __construct($id, $name, $group_id <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> $id;
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> $name;
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>group_id</span> <span style=color:#f92672>=</span> $group_id;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$users <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>User</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;admin&#39;</span>, <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>User</span>(<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;editor&#39;</span>),
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>User</span>(<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;author&#39;</span>)
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$admins <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> ($users <span style=color:#66d9ef>as</span> $user) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ($user<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>group_id</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        $admins[] <span style=color:#f92672>=</span> $user;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>Dengan menggunakan fungsi <code>array_filter</code> kita bisa mengurangi side efek samping dari fungsi.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$admins <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_filter</span>($data, <span style=color:#a6e22e>fn</span>($user) <span style=color:#f92672>=&gt;</span> $user<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>group_id</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>);</span></span></code></pre></div></p><p>Contoh lain mencari deret angka genap<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$numbers <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span>$even <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_filter</span>($numbers, <span style=color:#a6e22e>fn</span>($num) <span style=color:#f92672>=&gt;</span> $num <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>);</span></span></code></pre></div></p><h2 id=array_map>array_map</h2><p><code>array_map</code> berguna untuk menerapkan fungsi ke sebuah data array. Misalnya kita punya data array angka
dan kita ingin mengkalikan tiap data tersebut dengan 2.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$numbers <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>$multiple <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_map</span>(<span style=color:#a6e22e>fn</span>($x) <span style=color:#f92672>=&gt;</span> $x <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>, $numbers);</span></span></code></pre></div><p>Contoh lain misalnya kita punya data berupa daftar nama dan ingin dirapikan huruf besar kecil.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$names <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;agus&#39;</span>, <span style=color:#e6db74>&#39;BuDI&#39;</span>, <span style=color:#e6db74>&#39;nurHayati&#39;</span>, <span style=color:#e6db74>&#39;Adi wijaya&#39;</span>];
</span></span><span style=display:flex><span>$filteredNames <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($name) {
</span></span><span style=display:flex><span>    $lowerName <span style=color:#f92672>=</span> <span style=color:#a6e22e>strtolower</span>($name);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ucwords</span>($lowerName);
</span></span><span style=display:flex><span>}, $names);</span></span></code></pre></div></p><h2 id=array_reduce>array_reduce</h2><p>Array reduce tidak hanya merubah jumlah elemen tetapi juga merubah data</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$numbers <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span>$odd <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_reduce</span>($numbers, <span style=color:#66d9ef>function</span> ($acc, $num) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ($num <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        $acc[] <span style=color:#f92672>=</span> $num <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $acc;
</span></span><span style=display:flex><span>}, []);</span></span></code></pre></div><p>Kelebihan dari penggunaan fungsi array_filter, array_map dan array_reduce adalah kita menerapkan salah satu prinsip pemrograman fungsional yaitu
tidak merubah data asli. Tidak merubah data asli berarti tidak menimbulkan efek samping.
Untuk lebih memahami apa efek samping mari kita lihat fungsi sederhana berikut ini:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>add</span>($x) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $x <span style=color:#f92672>+</span> $number;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Fungsi add di atas memiliki efek samping karena variabel <code>$number</code> berada diluar fungsi ataupun tidak ada diparameter fungsi yang mengakibatkan
nilai yang tidak tentu jika menerapkan tes terhadap fungsi tersebut. Agar fungsi add tidak memiliki efek samping maka kita harus menaruh variabel
<code>$number</code> sebagai parameter fungsi.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>add</span>($x, $number) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $x <span style=color:#f92672>+</span> $number;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>dengan menaruh parameter <code>$number</code> sebagai argumen fungsi maka fungsi add akan selalu menghasilkan nilai yang sama jika kita mentesnya. misal kita
berikan nilai 1 pada <code>$x</code> dan 2 pada <code>$number</code> maka hasilnya akan selalu 3 karena fungsi tersebut tidak memiliki side effect atau lebih dikenal dengan istilah
<code>pure function</code>. Walaupun PHP sendiri bukan merupakan bahasa pemrograman fungsional.</p></section><div class=post-tags></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 © susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>