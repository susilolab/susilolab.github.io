<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Deno File System - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Deno adalah secure runtime untuk Javascript dan Typescript menggunakan javascript engine v8 buatan Google dan juga
dibangun dengan bahasa pemrograman Rust. Pembuatnya adalah orang yang sama yang membuat Nodejs.
Versi stabilnya dirilis pada tanggal 13 Mei 2020.
Pada kesempatan kali sesuai dengan judul artikel yaitu tentang file sistem di Deno, kita akan mengulik sedikit tentang
file system di Deno seperti membaca dan menulis file, membuat dan menghapus folder, menyalin file/folder dll."><meta property="og:image" content><meta property="og:title" content="Deno File System"><meta property="og:description" content="Deno adalah secure runtime untuk Javascript dan Typescript menggunakan javascript engine v8 buatan Google dan juga
dibangun dengan bahasa pemrograman Rust. Pembuatnya adalah orang yang sama yang membuat Nodejs.
Versi stabilnya dirilis pada tanggal 13 Mei 2020.
Pada kesempatan kali sesuai dengan judul artikel yaitu tentang file sistem di Deno, kita akan mengulik sedikit tentang
file system di Deno seperti membaca dan menulis file, membuat dan menghapus folder, menyalin file/folder dll."><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/2021-10-24-deno-filesystem/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-24T07:00:00+00:00"><meta property="article:modified_time" content="2021-10-24T07:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Deno File System"><meta name=twitter:description content="Deno adalah secure runtime untuk Javascript dan Typescript menggunakan javascript engine v8 buatan Google dan juga
dibangun dengan bahasa pemrograman Rust. Pembuatnya adalah orang yang sama yang membuat Nodejs.
Versi stabilnya dirilis pada tanggal 13 Mei 2020.
Pada kesempatan kali sesuai dengan judul artikel yaitu tentang file sistem di Deno, kita akan mengulik sedikit tentang
file system di Deno seperti membaca dan menulis file, membuat dan menghapus folder, menyalin file/folder dll."><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>Deno File System</h1><div class=meta><i data-feather=calendar></i> 24 Oct 2021</div><div class=page-categories><a href=/categories/deno/>deno</a></div></div><section class=body><p>Deno adalah secure runtime untuk Javascript dan Typescript menggunakan javascript engine v8 buatan Google dan juga
dibangun dengan bahasa pemrograman Rust. Pembuatnya adalah orang yang sama yang membuat Nodejs.
Versi stabilnya dirilis pada tanggal 13 Mei 2020.</p><p>Pada kesempatan kali sesuai dengan judul artikel yaitu tentang file sistem di Deno, kita akan mengulik sedikit tentang
file system di Deno seperti membaca dan menulis file, membuat dan menghapus folder, menyalin file/folder dll.</p><p>Sebelum masuk ke bahasan utama alangkah lebih baiknya jika mengenal cara menjalankan deno dulu, jadi untuk menjalankan typescript dengan
deno gunakan command <code>deno run &lt;nama-script></code>. Mungkin agak sedikit asing dan berbeda dengan <code>nodejs</code> yang tidak memerlukan perintah kedua
yaitu <code>run</code>.</p><p>Namun bagiku hal itu akan mempermudah dan membedakan dengan command lain mengingat deno menyertakan banyak command dalam satu binary.
Seperti <code>deno fmt</code>, <code>deno doc</code>, <code>deno lint</code>, <code>deno info</code> dan lain-lain. Berikut daftar lengkapnya</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ deno run nama-script.ts/nama-script.js</span></span></code></pre></div><p>Deno juga mengharuskan kita untuk menyebut permisi apa saja pada saat menjalankan script seperti <code>--allow-read</code> jika didalam
script terdapat pembacaan file, <code>--allow-write</code> jika terjadi penulisan ke file dll.</p><table><thead><tr><th>Opsi</th><th>Penjelasan</th></tr></thead><tbody><tr><td>-A, &ndash;allow-all</td><td>Mengizinkan semua permisi. Ini menonaktifkan permisi</td></tr><tr><td>&ndash;allow-env</td><td>Mengizinkan akses environment</td></tr><tr><td>&ndash;allow-hrtime</td><td>Mengizinkan pengukuran waktu resolusi-tinggi</td></tr><tr><td>&ndash;allow-net</td><td>Mengizinkan akses jaringan</td></tr><tr><td>&ndash;allow-plugin</td><td>Mengizinkan plugin. Catat bahwa <code>--allow-plugin</code> fitur tidak stabil</td></tr><tr><td>&ndash;allow-read</td><td>Mengizinkan akses pembacaan ke sistem file</td></tr><tr><td>&ndash;allow-write</td><td>Mengizinkan akses ke penulisan sistem file. kamu juga dapat menyebutkan nama file/folder yang diakses</td></tr><tr><td>&ndash;allow-run</td><td>Mengizinkan menjalankan subprocess</td></tr></tbody></table><p>Contoh penggunaan opsi permisi</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ deno run --allow-read read_file.ts
</span></span><span style=display:flex><span>$ deno run --allow-write write_file.ts</span></span></code></pre></div><p><strong>Catatan:</strong> Deno memerlukan tambahan opsi pada saat menjalankannya sebagai contoh <code>--allow-read</code> untuk mengijinkan
deno untuk membaca file/ menyalin file/folder.
{:.note-tip}</p><h3 id=baca-file>Baca File</h3><p>Untuk membaca file Deno menyediakan fungsi <code>readFile</code> pada namespace Deno. Buat file dengan nama <code>read_file.ts</code>
kemudian salin kode berikut ini:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>decoder</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TextDecoder</span>(<span style=color:#e6db74>&#39;utf-8&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>readFile</span>(<span style=color:#e6db74>&#39;copy_file.ts&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>decoder</span>.<span style=color:#a6e22e>decode</span>(<span style=color:#a6e22e>data</span>));</span></span></code></pre></div><p>Karena fungsi <code>Deno.readFile</code> menghasilkan data array byte maka perlu didecode menggunakan klas <code>TextDecoder</code>.</p><p>perlu tambahan opsi <code>--allow-read</code>
{:.note-tip}</p><h3 id=menulis-file>Menulis File</h3><p>Untuk menulis file kita dapat menggunakan fungsi <code>Deno.writeFile</code> dimana argumen pertama adalah nama file, kedua data yang bertype
Uint8Array sehingga harus diencode menggunakan klas <code>TextEncoder</code> dan argumen terakhir adalah opsi lain seperti mode permisi,
append yang berguna untuk menambahkan data jika file sudah ada.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>encoder</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TextEncoder</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>encoder</span>.<span style=color:#a6e22e>encode</span>(<span style=color:#e6db74>&#39;Hello world!&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>writeFile</span>(<span style=color:#e6db74>&#39;/tmp/hello.txt&#39;</span>, <span style=color:#a6e22e>data</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>writeFile</span>(<span style=color:#e6db74>&#39;/tmp/hello.txt&#39;</span>, <span style=color:#a6e22e>data</span>, { <span style=color:#a6e22e>mode</span>: <span style=color:#66d9ef>0o777</span> });
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>writeFile</span>(<span style=color:#e6db74>&#39;/tmp/hello.txt&#39;</span>, <span style=color:#a6e22e>data</span>, { <span style=color:#a6e22e>append</span>: <span style=color:#66d9ef>true</span> });</span></span></code></pre></div><p>memerlukan ijin <code>--allow-write</code>, dan <code>--allow-read</code> jika opsi <code>create</code> bernilai false
{:.note-tip}</p><h3 id=membuat-folder>Membuat Folder</h3><p>Untuk membuat folder kita bisa menggunakan fungsi <code>Deno.mkdir</code>, argumen yang wajib disediakan adalah nama folder sedangkan
opsi yang bisa ditambahkan adalah mode permisi dan recursive yang bernilai boolean.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>mkdir</span>(<span style=color:#e6db74>&#39;/tmp/hello&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>mkdir</span>(<span style=color:#e6db74>&#39;/tmp/hello&#39;</span>, { <span style=color:#a6e22e>recursive</span>: <span style=color:#66d9ef>true</span> });
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>mkdir</span>(<span style=color:#e6db74>&#39;/tmp/hello&#39;</span>, { <span style=color:#a6e22e>mode</span>: <span style=color:#66d9ef>0o777</span> });</span></span></code></pre></div></p><p>memerlukan ijin <code>--allow-write</code>
{:.note-tip}</p><h3 id=menghapus-filefolder>Menghapus File/Folder</h3><p>Untuk menghapus file/folder kita bisa menggunakan fungsi <code>Deno.remove</code> dimana kita bisa menambahkan opsi recursive atau tidak pada
saat menghapus folder.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#39;/tmp/hello.txt&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#39;/tmp/nama_folder&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#39;/tmp/nama_folder&#39;</span>, { <span style=color:#a6e22e>recursive</span>: <span style=color:#66d9ef>true</span> });</span></span></code></pre></div></p><p>memerlukan ijin <code>--allow-write</code>
{:.note-tip}</p><h3 id=menyalin-file>Menyalin File</h3><p>Untuk menyalin file kita bisa menggunakan fungsi <code>Deno.copyFile</code> dengan argumen pertama berupa sumber file dan argumen kedua berupa
tujuan file.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>copyFile</span>(<span style=color:#e6db74>&#39;/tmp/hello.txt&#39;</span>, <span style=color:#e6db74>&#39;/tmp/world.txt&#39;</span>);</span></span></code></pre></div></p><p>memerlukan ijin <code>--allow-write</code> dan <code>--allow-read</code>
{:.note-tip}</p><h3 id=menyalin-folder>Menyalin Folder</h3><p>Untuk menyalin folder namespace Deno tidak menyediakannya untuk itu kita menggunakan fungsi dari standard
library yaitu <code>copy</code> dan menambahkan opsi <code>--unstable</code> pada saat menjalankan karena memang library belum stabil.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>copy</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;https://deno.land/std@0.54.0/fs/mod.ts&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>copy</span>(<span style=color:#e6db74>&#34;/home/user/big-project&#34;</span>, <span style=color:#e6db74>&#34;/tmp/big-project&#34;</span>);</span></span></code></pre></div></p><p>memerlukan ijin <code>--allow-read</code> dan <code>--allow-write</code> dan juga opsi <code>--unstable</code>
{:.note-tip}</p><p>sekian.</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/deno>deno</a></li><li><a href=/tags/typescript>typescript</a></li></ul></nav></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 Â© susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>