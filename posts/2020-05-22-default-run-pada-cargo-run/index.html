<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Default run pada cargo run - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Sebelumnya pada postingan tentang [Cargo run multi binary]({% post_url 2020-04-18-cargo-run-multi-binary %}) saya mencontohkan bagaimana menjalankan binary khusus menggunakan cargo run, sehingga kita bisa bikin aplikasi secara terpisah berdasarkan nama file.
Kenapa menggunakan multi binary pada saat menjalankan cargo run ?. Karena code fn main() dapat digunakan pada setiap file."><meta property="og:image" content><meta property="og:title" content="Default run pada cargo run"><meta property="og:description" content="Sebelumnya pada postingan tentang [Cargo run multi binary]({% post_url 2020-04-18-cargo-run-multi-binary %}) saya mencontohkan bagaimana menjalankan binary khusus menggunakan cargo run, sehingga kita bisa bikin aplikasi secara terpisah berdasarkan nama file.
Kenapa menggunakan multi binary pada saat menjalankan cargo run ?. Karena code fn main() dapat digunakan pada setiap file."><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/2020-05-22-default-run-pada-cargo-run/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-22T08:00:00+00:00"><meta property="article:modified_time" content="2020-05-22T08:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Default run pada cargo run"><meta name=twitter:description content="Sebelumnya pada postingan tentang [Cargo run multi binary]({% post_url 2020-04-18-cargo-run-multi-binary %}) saya mencontohkan bagaimana menjalankan binary khusus menggunakan cargo run, sehingga kita bisa bikin aplikasi secara terpisah berdasarkan nama file.
Kenapa menggunakan multi binary pada saat menjalankan cargo run ?. Karena code fn main() dapat digunakan pada setiap file."><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>Default run pada cargo run</h1><div class=meta><i data-feather=calendar></i> 22 May 2020</div><div class=page-categories><a href=/categories/rust/>rust</a></div></div><section class=body><p>Sebelumnya pada postingan tentang [Cargo run multi binary]({% post_url 2020-04-18-cargo-run-multi-binary %}) saya mencontohkan bagaimana menjalankan binary khusus menggunakan <code>cargo run</code>, sehingga kita bisa bikin aplikasi secara terpisah berdasarkan nama file.</p><p>Kenapa menggunakan multi binary pada saat menjalankan <code>cargo run</code> ?. Karena code <code>fn main()</code> dapat digunakan pada setiap file.</p><p>Nah pada artikel sebelumnya saya tidak menjelaskan bagaimana kalau kita menjalankan <code>cargo run</code> tanpa parameter <code>--bin nama</code>?, ternyata cargo akan menampilkan pesan error bahwa tidak ada default run binary yang harus dijalankan ketika parameter <code>--bin</code> tidak disertakan.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cargo run
</span></span><span style=display:flex><span>error: <span style=color:#e6db74>`</span>cargo run<span style=color:#e6db74>`</span> could not determine which binary to run. 
</span></span><span style=display:flex><span>Use the <span style=color:#e6db74>`</span>--bin<span style=color:#e6db74>`</span> option to specify a binary, or the <span style=color:#e6db74>`</span>default-run<span style=color:#e6db74>`</span> manifest key.
</span></span><span style=display:flex><span>available binaries: main, basic, simple_server</span></span></code></pre></div><p>Untuk itu kita perlu mendefinisikan juga untuk file <code>main.rs</code> sebagai default jika kita menjalankan <code>cargo run</code> tanpa parameter <code>--bin</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>package</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;rabbit&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>version</span> = <span style=color:#e6db74>&#34;0.1.0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>authors</span> = [<span style=color:#e6db74>&#34;Name &lt;name@example.com&gt;&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>edition</span> = <span style=color:#e6db74>&#34;2018&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>default-run</span> = <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>bin</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>path</span> = <span style=color:#e6db74>&#34;src/main.rs&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>bin</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;publisher&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>path</span> = <span style=color:#e6db74>&#34;src/publisher.rs&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>bin</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;subscriber&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>path</span> = <span style=color:#e6db74>&#34;src/subscriber.rs&#34;</span></span></span></code></pre></div><p>Dapat dilihat bahwa kita menambahkan keyword <code>default-run</code> pada section <code>package</code> untuk memberitahu cargo file mana yang akan dijadikan bootstrap pada saat perintah <code>cargo run</code> dijalankan tanpa parameter <code>--bin</code>. Dan juga membuat definisi khusus untuk file <code>main.rs</code> dengan nama <code>main</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>package</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>default-run</span> = <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[[<span style=color:#a6e22e>bin</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>path</span> = <span style=color:#e6db74>&#34;src/main.rs&#34;</span></span></span></code></pre></div><p>Setelah kita menambahkan default-run maka cargo tidak akan komplain pada saat menjalankan <code>cargo run</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cargo run     
</span></span><span style=display:flex><span>Finished dev <span style=color:#f92672>[</span>unoptimized + debuginfo<span style=color:#f92672>]</span> target<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span> in 0.06s
</span></span><span style=display:flex><span>Running <span style=color:#e6db74>`</span>target/debug/main<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>Hello, world!</span></span></code></pre></div><p>Sekian.</p></section><div class=post-tags></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 Â© susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>