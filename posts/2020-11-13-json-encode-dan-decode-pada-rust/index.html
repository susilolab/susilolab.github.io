<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>JSON encode dan decode pada Rust - susilolab</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Hari ini saya ingin berbagi sedikit ilmu tentang bagaimana encode dan decode json objek di bahasa pemgrograman Rust. Karena saya masih newbie di Rust mohon dikoreksi jika terdapat
kesalahan pada artikel ini. Ok, langsung saja pertama-tama kita buat project baru dengan nama demo-json. Silahkan ketikan perintah berikut untuk membuat project baru"><meta property="og:image" content><meta property="og:title" content="JSON encode dan decode pada Rust"><meta property="og:description" content="Hari ini saya ingin berbagi sedikit ilmu tentang bagaimana encode dan decode json objek di bahasa pemgrograman Rust. Karena saya masih newbie di Rust mohon dikoreksi jika terdapat
kesalahan pada artikel ini. Ok, langsung saja pertama-tama kita buat project baru dengan nama demo-json. Silahkan ketikan perintah berikut untuk membuat project baru"><meta property="og:type" content="article"><meta property="og:url" content="https://susilolab.github.io/posts/2020-11-13-json-encode-dan-decode-pada-rust/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-13T06:00:00+00:00"><meta property="article:modified_time" content="2020-11-13T06:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="JSON encode dan decode pada Rust"><meta name=twitter:description content="Hari ini saya ingin berbagi sedikit ilmu tentang bagaimana encode dan decode json objek di bahasa pemgrograman Rust. Karena saya masih newbie di Rust mohon dikoreksi jika terdapat
kesalahan pada artikel ini. Ok, langsung saja pertama-tama kita buat project baru dengan nama demo-json. Silahkan ketikan perintah berikut untuk membuat project baru"><script src=https://susilolab.github.io/js/feather.min.js></script><link href=https://susilolab.github.io/css/fonts.eeaf17fd5344c59efcf7fc5c93b898a92cd323eda28c7f1546bbb5f99b42f174.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://susilolab.github.io/css/main.c7dbc780852ad2fc2aae08ae19f1dea5e34c4ef11a83ab0f9b0a025b148de8a1.css></head><body><div class=container><div class=header-wrapper><header class=header-app><div class=main><a href=https://susilolab.github.io/>susilolab</a></div><nav class=navmain><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/portfolio>My Portfolio</a>
<a href=/about>About</a>
<a href=/tags>Tags</a>
<a href=/categories>Categories</a></nav></header></div><div class=border-top></div><div class=content><main><article><div class=title><h1 class=title>JSON encode dan decode pada Rust</h1><div class=meta><i data-feather=calendar></i> 13 Nov 2020</div><div class=page-categories><a href=/categories/rust/>rust</a></div></div><section class=body><p>Hari ini saya ingin berbagi sedikit ilmu tentang bagaimana encode dan decode json objek di bahasa pemgrograman Rust. Karena saya masih newbie di Rust mohon dikoreksi jika terdapat
kesalahan pada artikel ini. Ok, langsung saja pertama-tama kita buat project baru dengan nama <code>demo-json</code>. Silahkan ketikan perintah berikut untuk membuat project baru</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cargo new demo-json --bin</span></span></code></pre></div><p>Kemudian tambahkan pustaka serde dengan fitur derive dan serde_json pada dependencies</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>dependencies</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>serde</span> = { <span style=color:#a6e22e>version</span> = <span style=color:#e6db74>&#34;1.0&#34;</span>, <span style=color:#a6e22e>features</span> = [<span style=color:#e6db74>&#34;derive&#34;</span>] }
</span></span><span style=display:flex><span><span style=color:#a6e22e>serde_json</span> = <span style=color:#e6db74>&#34;1.0&#34;</span></span></span></code></pre></div><p>Setelah selesai menambah dependencies buka file <code>main.rs</code> kemudian import struk Serialize dan Deserialize.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> serde::{Serialize, Deserialize};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#[derive(Serialize, Deserialize, Debug)]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Todo</span> {
</span></span><span style=display:flex><span>  id: <span style=color:#66d9ef>i32</span>,
</span></span><span style=display:flex><span>  title: String
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> obj: <span style=color:#a6e22e>Todo</span> <span style=color:#f92672>=</span> Todo {
</span></span><span style=display:flex><span>    id: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>    title: <span style=color:#e6db74>&#34;Belajar Rust&#34;</span>.to_string(),
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> enc <span style=color:#f92672>=</span> serde_json::to_string(<span style=color:#f92672>&amp;</span>obj).unwrap();
</span></span><span style=display:flex><span>  println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, enc);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> dec: <span style=color:#a6e22e>Todo</span> <span style=color:#f92672>=</span> serde_json::from_str(<span style=color:#f92672>&amp;</span>enc).unwrap();
</span></span><span style=display:flex><span>  println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{:?}</span><span style=color:#e6db74>&#34;</span>, dec);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Jalankan kode di atas dengan mengetik <code>cargo run</code> pada terminal dan terminal akan mencetak string dan struk todo.</p><pre tabindex=0><code>   Compiling demo-json v0.1.0
    Finished dev [unoptimized + debuginfo] target(s) in 0.74s
     Running `target/debug/demo-json`
{&#34;id&#34;:1,&#34;title&#34;:&#34;Create web&#34;}
Todo { id: 1, title: &#34;Create web&#34; }
</code></pre><p>Bagaimana cara kerjanya, mari kita telusuri satu persatu. Pertama kali mengimport trait <code>Serialize</code> dan <code>Deserialize</code> menggunakan keyword <code>use</code>.
Trait ini akan digunakan pada struk <code>Todo</code> yang akan otomatis mengimplementasi fungsi-fungsi yang ada pada trait <code>Serialize</code> dan <code>Deserialize</code>.
Sehingga kita tidak perlu secara manual mengetikkan script seperti ini <code>impl Serialize for Todo {}</code> dan seperti ini <code>impl Deserialize for Todo</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>use</span> serde::{Serialize, Deserialize};</span></span></code></pre></div><p>Kemudian kode berikutnya</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#75715e>#[derive(Serialize, Deserialize, Debug)]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Todo</span> {
</span></span><span style=display:flex><span>  id: <span style=color:#66d9ef>i32</span>,
</span></span><span style=display:flex><span>  title: String
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Kode di atas akan membuat struk <code>Todo</code>, perhatikan syntax <code>#[derive()]</code>. syntax ini akan secara otomatis mengimplementasi trait yang ada pada antara
tanda kurung buka dan tutup (<code>()</code>) untuk struk <code>Todo</code>. Struk <code>Todo</code> berisi 2 field yaitu <code>id</code> yang bertipe integer 32 dan <code>title</code> yang bertipe string.</p><p>Lalu pada fungsi main, kita membuat variabel <code>obj</code> yang bertipe <code>Todo</code> dan memberikan nilai pada field id dan title.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>let</span> obj: <span style=color:#a6e22e>Todo</span> <span style=color:#f92672>=</span> Todo {
</span></span><span style=display:flex><span>  id: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  title: <span style=color:#e6db74>&#34;Belajar Rust&#34;</span>.to_string(),
</span></span><span style=display:flex><span>};</span></span></code></pre></div><p>Kode berikutnya kita membuat 2 variabel yaitu <code>enc</code> yang berisi hasil encode struk ke json dan variabel <code>dec</code> menyimpan hasil decode dari string ke
struk <code>Todo</code>. Disini penulis menggunakan fungsi <code>to_string</code> dan <code>from_str</code> dari pustaka <code>serde_json</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#66d9ef>let</span> enc <span style=color:#f92672>=</span> serde_json::to_string(<span style=color:#f92672>&amp;</span>obj).unwrap();
</span></span><span style=display:flex><span>println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span>, enc);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> dec: <span style=color:#a6e22e>Todo</span> <span style=color:#f92672>=</span> serde_json::from_str(<span style=color:#f92672>&amp;</span>enc).unwrap();
</span></span><span style=display:flex><span>println!(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{:?}</span><span style=color:#e6db74>&#34;</span>, dec);</span></span></code></pre></div><p>Demikian semoga yang sedikit ini bermanfaat</p></section><div class=post-tags></div></article></main><footer style=display:flex;justify-content:space-between><div style=width:50%><ul class=social-wrapper><li><a class=soc href=https://github.com/susilolab rel=me title=susilolab><i data-feather=github></i><span class=soc-name>GitHub</span></a></li><li><a class=soc href=https://twitter.com/susil0/ rel=me title=susil0><i data-feather=twitter></i><span class=soc-name>Twitter</span></a></li><li><a class=soc href=https://gitlab.com/susilolab/ rel=me title=susilolab><i data-feather=gitlab></i><span class=soc-name>GitLab</span></a></li></ul></div><div class=footer-info><p>"Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia" (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</p><p>2024 © susilolab | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></p></div></footer><script>feather.replace()</script></div></div></body></html>