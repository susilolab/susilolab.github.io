<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="http://localhost:4040/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4040/" rel="alternate" type="text/html" /><updated>2020-03-25T13:37:44+07:00</updated><id>http://localhost:4040/feed.xml</id><title type="html">susilolab</title><subtitle>“Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia” (HR. Ahmad, ath-Thabrani, ad-Daruqutni)</subtitle><author><name>Agus Susilo</name></author><entry><title type="html">Menggunakan Gnome Terminal sebagai default shell pada Tortoisehg</title><link href="http://localhost:4040/linux/2020/03/23/menggunakan-gnome-terminal-pada-tortoisehg.html" rel="alternate" type="text/html" title="Menggunakan Gnome Terminal sebagai default shell pada Tortoisehg" /><published>2020-03-23T08:00:00+07:00</published><updated>2020-03-23T08:00:00+07:00</updated><id>http://localhost:4040/linux/2020/03/23/menggunakan-gnome-terminal-pada-tortoisehg</id><content type="html" xml:base="http://localhost:4040/linux/2020/03/23/menggunakan-gnome-terminal-pada-tortoisehg.html">&lt;p&gt;Tortoisehg merupakan front-end GUI untuk &lt;em&gt;mercurial&lt;/em&gt; dan disini saya ingin berbagi bagaimana cara menseting &lt;code class=&quot;highlighter-rouge&quot;&gt;gnome-terminal&lt;/code&gt; sebagai default shell yang sebelumnya menggunakan default &lt;code class=&quot;highlighter-rouge&quot;&gt;xterm&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Caranya cukup mudah, buka Tortoisehg kemudian klik menu &lt;code class=&quot;highlighter-rouge&quot;&gt;File -&amp;gt; Settings&lt;/code&gt; kemudian klik ListBox &lt;code class=&quot;highlighter-rouge&quot;&gt;TortoiseHg&lt;/code&gt; lalu pada inputbox berlabel &lt;code class=&quot;highlighter-rouge&quot;&gt;Shell&lt;/code&gt; ketikan &lt;code class=&quot;highlighter-rouge&quot;&gt;gnome-terminal %(root)s. %(reponame)s&lt;/code&gt; kemudian klik Ok. tutup tortoisehg Anda dan buka lagi.
&lt;img src=&quot;/assets/img/02-20200325-gnome-shell-tortoisehg.png&quot; alt=&quot;mencoba-setingan-baru&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Untuk mencobanya klik kanan pada salah satu repo di &lt;code class=&quot;highlighter-rouge&quot;&gt;Repostory Registry&lt;/code&gt; kemudian klik terminal, jika tidak ada kendala gnome-terminal akan muncul.
&lt;img src=&quot;/assets/img/01-20200325-gnome-shell-tortoisehg.png&quot; alt=&quot;mencoba-setingan-baru&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sekian&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Tortoisehg merupakan front-end GUI untuk mercurial dan disini saya ingin berbagi bagaimana cara menseting gnome-terminal sebagai default shell yang sebelumnya menggunakan default xterm. Caranya cukup mudah, buka Tortoisehg kemudian klik menu File -&amp;gt; Settings kemudian klik ListBox TortoiseHg lalu pada inputbox berlabel Shell ketikan gnome-terminal %(root)s. %(reponame)s kemudian klik Ok. tutup tortoisehg Anda dan buka lagi. Untuk mencobanya klik kanan pada salah satu repo di Repostory Registry kemudian klik terminal, jika tidak ada kendala gnome-terminal akan muncul. Sekian</summary></entry><entry><title type="html">Register Javascript per modul di Phoenix</title><link href="http://localhost:4040/elixir/2019/09/18/register-javascript-per-module-di-phoenix.html" rel="alternate" type="text/html" title="Register Javascript per modul di Phoenix" /><published>2019-09-18T08:00:00+07:00</published><updated>2019-09-18T08:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/18/register-javascript-per-module-di-phoenix</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/18/register-javascript-per-module-di-phoenix.html">&lt;p&gt;Dalam mengembangkan aplikasi web dengan framework &lt;a href=&quot;https://phoenixframework.org/&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Phoenix&lt;/code&gt;&lt;/a&gt; kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file &lt;code class=&quot;highlighter-rouge&quot;&gt;app.js&lt;/code&gt; yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;render_existing/3&lt;/code&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;render_existing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;\\&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Contoh struktur aplikasi phoenix&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/struktur-app-2019-09-18-110906.png&quot; alt=&quot;struktur-aplikasi&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Dalam kasus ini kita akan membuat file &lt;code class=&quot;highlighter-rouge&quot;&gt;book.js&lt;/code&gt; hanya dimuat pada controller Buku saja, untuk pertama-tama kita salin/buat file &lt;code class=&quot;highlighter-rouge&quot;&gt;book.js&lt;/code&gt; didalam folder &lt;code class=&quot;highlighter-rouge&quot;&gt;priv/static/js&lt;/code&gt; kemudian pada file layout &lt;code class=&quot;highlighter-rouge&quot;&gt;lib/book_store_web/templates/layout/app.html.eex&lt;/code&gt; tambahkan kode berikut&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render_existing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@view_module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;script.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Dibawah kode ini:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;%= Routes.static_path(@conn, &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;) %&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Lalu bikin fungsi render pada file &lt;code class=&quot;highlighter-rouge&quot;&gt;lib/book_store_web/views/book_view.ex&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;script.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;sx&quot;&gt;~s{&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/js/book.js&quot;&amp;gt;&amp;lt;/script&amp;gt;}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;semoga bermanfaat&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Dalam mengembangkan aplikasi web dengan framework Phoenix kadang kita butuh menyertakan file javascript hanya pada halaman tertentu saja. Karena di Phoenix semua file javascript dijadikan satu pada file app.js yang nantinya akan dikompilasi menggunakan webpack, namun phoenix menyediakan cara untuk merender view hanya jika view tersebut ada yaitu pakai fungsi render_existing/3. render_existing(module, template, assigns \\ []) Contoh struktur aplikasi phoenix Dalam kasus ini kita akan membuat file book.js hanya dimuat pada controller Buku saja, untuk pertama-tama kita salin/buat file book.js didalam folder priv/static/js kemudian pada file layout lib/book_store_web/templates/layout/app.html.eex tambahkan kode berikut &amp;lt;%= render_existing(@view_module, &quot;script.html&quot;, assigns) %&amp;gt; Dibawah kode ini: &amp;lt;script type=&quot;text/javascript&quot; src=&quot;&amp;lt;%= Routes.static_path(@conn, &quot;/js/app.js&quot;) %&amp;gt;&quot;&amp;gt;&amp;lt;/script&amp;gt; Lalu bikin fungsi render pada file lib/book_store_web/views/book_view.ex def render(&quot;script.html&quot;, _assigns) do ~s{&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/js/book.js&quot;&amp;gt;&amp;lt;/script&amp;gt;} |&amp;gt; raw end semoga bermanfaat</summary></entry><entry><title type="html">Menghitung total array angka dengan fungsi reduce</title><link href="http://localhost:4040/elixir/2019/09/09/menghitung-total-array-angka-dengan-fungsi-reduce.html" rel="alternate" type="text/html" title="Menghitung total array angka dengan fungsi reduce" /><published>2019-09-09T08:00:00+07:00</published><updated>2019-09-09T08:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/09/menghitung-total-array-angka-dengan-fungsi-reduce</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/09/menghitung-total-array-angka-dengan-fungsi-reduce.html">&lt;p&gt;Kali ini saya ingin berbagi tips bagaimana menjumlahkan total array angka di Elixir dengan fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;Enum.reduce/3&lt;/code&gt;. Bagi yang pernah mengenal bahasa pemrograman seperti C, C++, Java atau PHP tentunya hal ini akan sangat-sangat mudah, saya beri contoh kodenya dalam bahasa PHP.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$angka&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$angka&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Bisa kita lihat bahwa untuk menghitung total angka kita bikin variabel &lt;code class=&quot;highlighter-rouge&quot;&gt;total&lt;/code&gt; kemudian looping &lt;code class=&quot;highlighter-rouge&quot;&gt;angka&lt;/code&gt; sampai habis dan hasilnya di tambahkan ke variabel &lt;code class=&quot;highlighter-rouge&quot;&gt;total&lt;/code&gt;. Beda dengan elixir karena bahasa elixir termasuk dalam kategori functional programming maka cara yang ditempuh berbeda. Lihat kode berikut ini:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;angka&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;angka&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Bisa dilihat bahwa elixir menggunakan fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;reduce&lt;/code&gt; untuk menghitung total angka karena pada elixir setiap variabel bersifat immutable/tidak bisa dirubah dan elixir merupakan functional programming. Untuk penjelasan apa itu &lt;strong&gt;Pemrograman Fungsional&lt;/strong&gt; Insya Allah saya jelaskan pada kesempatan berikutnya. sekian.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Kali ini saya ingin berbagi tips bagaimana menjumlahkan total array angka di Elixir dengan fungsi Enum.reduce/3. Bagi yang pernah mengenal bahasa pemrograman seperti C, C++, Java atau PHP tentunya hal ini akan sangat-sangat mudah, saya beri contoh kodenya dalam bahasa PHP. &amp;lt;?php $angka = [1,2,3,4,5]; $total = 0; foreach($angka as $val) { $total += $val; } echo $total; Bisa kita lihat bahwa untuk menghitung total angka kita bikin variabel total kemudian looping angka sampai habis dan hasilnya di tambahkan ke variabel total. Beda dengan elixir karena bahasa elixir termasuk dalam kategori functional programming maka cara yang ditempuh berbeda. Lihat kode berikut ini: angka = [1,2,3,4,5] total = Enum.reduce(angka, 0, fn(x, acc) -&amp;gt; acc + x end) IO.puts &quot;#{total}&quot; Bisa dilihat bahwa elixir menggunakan fungsi reduce untuk menghitung total angka karena pada elixir setiap variabel bersifat immutable/tidak bisa dirubah dan elixir merupakan functional programming. Untuk penjelasan apa itu Pemrograman Fungsional Insya Allah saya jelaskan pada kesempatan berikutnya. sekian.</summary></entry><entry><title type="html">Membuat custom Mix Task di Phoenix</title><link href="http://localhost:4040/elixir/2019/09/07/membuat-custom-mix-task-di-phoenix.html" rel="alternate" type="text/html" title="Membuat custom Mix Task di Phoenix" /><published>2019-09-07T08:00:00+07:00</published><updated>2019-09-07T08:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/07/membuat-custom-mix-task-di-phoenix</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/07/membuat-custom-mix-task-di-phoenix.html">&lt;p&gt;Kadang kita butuh membuat task versi kita sendiri untuk mempermudah dalam pengembangan web. Bawaan phoenix mendukung pembuatan custom mix task dan gunakan modul &lt;code class=&quot;highlighter-rouge&quot;&gt;OptionParser&lt;/code&gt; untuk mengolah argumennya. Untuk membuat custom mix task bikin folder &lt;code class=&quot;highlighter-rouge&quot;&gt;app_name/lib/mix/tasks&lt;/code&gt; dan buat file baru misalnya &lt;code class=&quot;highlighter-rouge&quot;&gt;hello.ex&lt;/code&gt; kemudian ikuti kode berikut:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Mix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Tasks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Mix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Task&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;no&quot;&gt;Mix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;app.start&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;no&quot;&gt;Mix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello world!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Mix.Task.run&lt;/code&gt; memastikan bahwa saat mix dijalankan aplikasi juga dijalankan. Setelah itu compile dengan perintah &lt;code class=&quot;highlighter-rouge&quot;&gt;mix compile&lt;/code&gt; dan jalankan dengan perintah &lt;code class=&quot;highlighter-rouge&quot;&gt;mix hello&lt;/code&gt;.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Kadang kita butuh membuat task versi kita sendiri untuk mempermudah dalam pengembangan web. Bawaan phoenix mendukung pembuatan custom mix task dan gunakan modul OptionParser untuk mengolah argumennya. Untuk membuat custom mix task bikin folder app_name/lib/mix/tasks dan buat file baru misalnya hello.ex kemudian ikuti kode berikut: defmodule Mix.Tasks.Hello do use Mix.Task def run(_) do Mix.Task.run(&quot;app.start&quot;) Mix.shell.info(&quot;Hello world!&quot;) end end Mix.Task.run memastikan bahwa saat mix dijalankan aplikasi juga dijalankan. Setelah itu compile dengan perintah mix compile dan jalankan dengan perintah mix hello.</summary></entry><entry><title type="html">Generate file xls di Elixir</title><link href="http://localhost:4040/elixir/2019/09/03/generate-xlsx-di-elixir.html" rel="alternate" type="text/html" title="Generate file xls di Elixir" /><published>2019-09-03T09:00:00+07:00</published><updated>2019-09-03T09:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/03/generate-xlsx-di-elixir</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/03/generate-xlsx-di-elixir.html">&lt;p&gt;Tips singkat bagaimana mengenerate file &lt;strong&gt;xlsx&lt;/strong&gt; di Elixir dengan paket &lt;code class=&quot;highlighter-rouge&quot;&gt;elixlsx&lt;/code&gt;. Pertama tambahkan ektensi ke file &lt;code class=&quot;highlighter-rouge&quot;&gt;mix.exs&lt;/code&gt; pada bagian fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;deps&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deps&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:elixlsx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~&amp;gt; 0.4.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Kemudian jalankan perintah berikut diterminal kamu&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mix deps.get&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Setelah itu baru kita bisa mengenerate file xls. saya asumsikan bahwa kamu sudah membuat modul jadi tinggal tambahkan fungsi download. Misal nama modulnya &lt;code class=&quot;highlighter-rouge&quot;&gt;Playgorund&lt;/code&gt; lalu tambahkan alias &lt;code class=&quot;highlighter-rouge&quot;&gt;Elixlsx.Sheet&lt;/code&gt; dan &lt;code class=&quot;highlighter-rouge&quot;&gt;Elixlsx.Workbook&lt;/code&gt; pada bagian setelah definisi modul.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Playground&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Elixlsx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;download&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PHP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Go&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Javascript&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Elixir&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Rust&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;sheets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with_index&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt; 
                &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
                &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;no&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append_sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Elixlsx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;todos.xlsx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Pada fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;download&lt;/code&gt; kita membuat variabel &lt;code class=&quot;highlighter-rouge&quot;&gt;rows&lt;/code&gt; menyimpan struct yang berisi &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; dan &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt;. Kemudian variabel &lt;code class=&quot;highlighter-rouge&quot;&gt;sheets&lt;/code&gt; menyimpan daftar &lt;code class=&quot;highlighter-rouge&quot;&gt;Sheet&lt;/code&gt;. Pertama &lt;code class=&quot;highlighter-rouge&quot;&gt;rows&lt;/code&gt; kita kirim ke pemipaan(&lt;code class=&quot;highlighter-rouge&quot;&gt;|&amp;gt;&lt;/code&gt;) &lt;code class=&quot;highlighter-rouge&quot;&gt;Stream.with_index&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Stream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with_index&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Stream.with_index&lt;/code&gt; berfungsi membuat stream data dengan setiap datanya terdiri dari tuple &lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt; dan &lt;code class=&quot;highlighter-rouge&quot;&gt;index&lt;/code&gt; seperti ini &lt;code class=&quot;highlighter-rouge&quot;&gt;{data, index}&lt;/code&gt; sehingga &lt;code class=&quot;highlighter-rouge&quot;&gt;index&lt;/code&gt; bisa digunakan untuk isian baris pada sheet.&lt;/p&gt;

&lt;p&gt;Hasil dari &lt;code class=&quot;highlighter-rouge&quot;&gt;Stream.with_index&lt;/code&gt; kita pipakan lagi ke fungsi sebelah kanan yaitu &lt;code class=&quot;highlighter-rouge&quot;&gt;Enum.reduce&lt;/code&gt;, fungsi ini akan mengembalikan daftar sheet. Fungsi ini parameter kedua berupa struct &lt;code class=&quot;highlighter-rouge&quot;&gt;%Sheet{}&lt;/code&gt; sebagai accumulator/variabel yang akan menyimpan hasil reduce, parameter ketiga berupa fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt; dan &lt;code class=&quot;highlighter-rouge&quot;&gt;acc&lt;/code&gt; kemudian didalamnya akumulator akan diisi dengan data dari &lt;code class=&quot;highlighter-rouge&quot;&gt;rows&lt;/code&gt; di atas. &lt;code class=&quot;highlighter-rouge&quot;&gt;Sheet.set_at(idx, 0, row.id)&lt;/code&gt; fungsi akan menset data pada baris &lt;code class=&quot;highlighter-rouge&quot;&gt;idx&lt;/code&gt;, kolom &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt; dengan value berupa &lt;code class=&quot;highlighter-rouge&quot;&gt;row.id&lt;/code&gt; lalu fungsi yang kedua menset data berupa &lt;code class=&quot;highlighter-rouge&quot;&gt;row.name&lt;/code&gt; sampai data pada &lt;code class=&quot;highlighter-rouge&quot;&gt;rows&lt;/code&gt; habis.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;no&quot;&gt;Enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt; 
    &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sheet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Terakhir &lt;code class=&quot;highlighter-rouge&quot;&gt;sheets&lt;/code&gt; akan ditambahkan ke &lt;code class=&quot;highlighter-rouge&quot;&gt;Workbook&lt;/code&gt; lalu dipipakan ke fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;write_to&lt;/code&gt; untuk disimpan menjadi file &lt;code class=&quot;highlighter-rouge&quot;&gt;todos.xlsx&lt;/code&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;no&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append_sheet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Workbook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sheets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Elixlsx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;todos.xlsx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Kemudian buka &lt;code class=&quot;highlighter-rouge&quot;&gt;iex&lt;/code&gt; diterminal kamu, lalu seperti biasa ketikan alias &lt;code class=&quot;highlighter-rouge&quot;&gt;Playgorund&lt;/code&gt; baru jalankan fungsi download.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;iex
iex&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;)&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;Playground
iex&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2&lt;span class=&quot;o&quot;&gt;)&amp;gt;&lt;/span&gt; Playground.download&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;sekian.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Tips singkat bagaimana mengenerate file xlsx di Elixir dengan paket elixlsx. Pertama tambahkan ektensi ke file mix.exs pada bagian fungsi deps defp deps do {:elixlsx, &quot;~&amp;gt; 0.4.2&quot;} end Kemudian jalankan perintah berikut diterminal kamu $ mix deps.get Setelah itu baru kita bisa mengenerate file xls. saya asumsikan bahwa kamu sudah membuat modul jadi tinggal tambahkan fungsi download. Misal nama modulnya Playgorund lalu tambahkan alias Elixlsx.Sheet dan Elixlsx.Workbook pada bagian setelah definisi modul. defmodule Playground do alias Elixlsx.{Workbook, Sheet} def download do rows = [ %{id: 1, name: &quot;PHP&quot;}, %{id: 2, name: &quot;Go&quot;}, %{id: 3, name: &quot;Javascript&quot;}, %{id: 4, name: &quot;Elixir&quot;}, %{id: 5, name: &quot;Rust&quot;} ] sheets = rows |&amp;gt; Stream.with_index |&amp;gt; Enum.reduce(%Sheet{}, fn({row, idx}, acc) -&amp;gt; acc |&amp;gt; Sheet.set_at(idx, 0, row.id) |&amp;gt; Sheet.set_at(idx, 1, row.name) end) Workbook.append_sheet(%Workbook{}, sheets) |&amp;gt; Elixlsx.write_to(&quot;todos.xlsx&quot;) end end Pada fungsi download kita membuat variabel rows menyimpan struct yang berisi id dan name. Kemudian variabel sheets menyimpan daftar Sheet. Pertama rows kita kirim ke pemipaan(|&amp;gt;) Stream.with_index rows |&amp;gt; Stream.with_index Stream.with_index berfungsi membuat stream data dengan setiap datanya terdiri dari tuple data dan index seperti ini {data, index} sehingga index bisa digunakan untuk isian baris pada sheet. Hasil dari Stream.with_index kita pipakan lagi ke fungsi sebelah kanan yaitu Enum.reduce, fungsi ini akan mengembalikan daftar sheet. Fungsi ini parameter kedua berupa struct %Sheet{} sebagai accumulator/variabel yang akan menyimpan hasil reduce, parameter ketiga berupa fungsi data dan acc kemudian didalamnya akumulator akan diisi dengan data dari rows di atas. Sheet.set_at(idx, 0, row.id) fungsi akan menset data pada baris idx, kolom 0 dengan value berupa row.id lalu fungsi yang kedua menset data berupa row.name sampai data pada rows habis. Enum.reduce(%Sheet{}, fn({row, idx}, acc) -&amp;gt; acc |&amp;gt; Sheet.set_at(idx, 0, row.id) |&amp;gt; Sheet.set_at(idx, 1, row.name) end) Terakhir sheets akan ditambahkan ke Workbook lalu dipipakan ke fungsi write_to untuk disimpan menjadi file todos.xlsx. Workbook.append_sheet(%Workbook{}, sheets) |&amp;gt; Elixlsx.write_to(&quot;todos.xlsx&quot;) Kemudian buka iex diterminal kamu, lalu seperti biasa ketikan alias Playgorund baru jalankan fungsi download. $ iex iex(1)&amp;gt; alias Playground iex(2)&amp;gt; Playground.download() sekian.</summary></entry><entry><title type="html">Multi Alias dalam satu baris</title><link href="http://localhost:4040/elixir/2019/09/03/multi-alias-dalam-satu-baris.html" rel="alternate" type="text/html" title="Multi Alias dalam satu baris" /><published>2019-09-03T08:00:00+07:00</published><updated>2019-09-03T08:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/03/multi-alias-dalam-satu-baris</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/03/multi-alias-dalam-satu-baris.html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Alias&lt;/code&gt; digunakan untuk memperpendek nama modul pada Elixir, bayangkan kamu harus memanggil nama modul yang begitu banyak contoh&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;World&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Great&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Print&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Kode alias diatas dapat diganti dengan tanda &lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt; sehingga bisa menjadi satu baris&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;World&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Great&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;sekian.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Alias digunakan untuk memperpendek nama modul pada Elixir, bayangkan kamu harus memanggil nama modul yang begitu banyak contoh defmodule Foo do alias Hello.World alias Hello.Great alias Hello.Print end Kode alias diatas dapat diganti dengan tanda {} sehingga bisa menjadi satu baris defmodule Foo do alias Hello.{World, Great, Print} end sekian.</summary></entry><entry><title type="html">Memecah file dengan 7z cli dilinux</title><link href="http://localhost:4040/bash/cli/2019/09/02/split-file-di-7z-cli.html" rel="alternate" type="text/html" title="Memecah file dengan 7z cli dilinux" /><published>2019-09-02T08:00:00+07:00</published><updated>2019-09-02T08:00:00+07:00</updated><id>http://localhost:4040/bash/cli/2019/09/02/split-file-di-7z-cli</id><content type="html" xml:base="http://localhost:4040/bash/cli/2019/09/02/split-file-di-7z-cli.html">&lt;p&gt;Kadang kita butuh memecah file menjadi beberapa bagian agar dapat disalin ke flash disk terutama flash disk yang formatnya fat32. Fat32 hanya mampu menyalin file maksimal file berukuran 4GB. Berikut ini cara memecah file menggunakan 7z cli di linux:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;7z a &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-mx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0 &lt;span class=&quot;nt&quot;&gt;-v2500m&lt;/span&gt; namafile.7z folder_berkas/&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Penjelasan parameternya&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;Perintah menambah berkas pada 7z&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-y&lt;/td&gt;
      &lt;td&gt;Kita paksa 7z agar mengiyakan semua konfirmasi&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-mx=0&lt;/td&gt;
      &lt;td&gt;Tingkatan kompresi antara 0 s/d 7. 0 brarti tanpa kompresi&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;-v2500m&lt;/td&gt;
      &lt;td&gt;Berapa ukuran tiap file yang dipecah. ukuran bisa dalam b, k, m dan g&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;nama_file.7z&lt;/td&gt;
      &lt;td&gt;Nama file yang diinginkan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;folder_berkas/&lt;/td&gt;
      &lt;td&gt;Folder yang akan dipecah&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Khusus parameter &lt;code class=&quot;highlighter-rouge&quot;&gt;-v&lt;/code&gt; gunakan ukuran dibawahnya misal kita ingin memecah file menjadi 2G perfile maka gunakan ukuran &lt;code class=&quot;highlighter-rouge&quot;&gt;-v1900m&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;semoga bermanfaat&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Kadang kita butuh memecah file menjadi beberapa bagian agar dapat disalin ke flash disk terutama flash disk yang formatnya fat32. Fat32 hanya mampu menyalin file maksimal file berukuran 4GB. Berikut ini cara memecah file menggunakan 7z cli di linux: $ 7z a -y -mx=0 -v2500m namafile.7z folder_berkas/ Penjelasan parameternya a Perintah menambah berkas pada 7z -y Kita paksa 7z agar mengiyakan semua konfirmasi -mx=0 Tingkatan kompresi antara 0 s/d 7. 0 brarti tanpa kompresi -v2500m Berapa ukuran tiap file yang dipecah. ukuran bisa dalam b, k, m dan g nama_file.7z Nama file yang diinginkan folder_berkas/ Folder yang akan dipecah Khusus parameter -v gunakan ukuran dibawahnya misal kita ingin memecah file menjadi 2G perfile maka gunakan ukuran -v1900m semoga bermanfaat</summary></entry><entry><title type="html">Baca file di Elixir dengan with</title><link href="http://localhost:4040/elixir/2019/09/01/baca-file-di-elixir-dengan-with.html" rel="alternate" type="text/html" title="Baca file di Elixir dengan with" /><published>2019-09-01T15:00:00+07:00</published><updated>2019-09-01T15:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/01/baca-file-di-elixir-dengan-with</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/01/baca-file-di-elixir-dengan-with.html">&lt;p&gt;Kita tahu elixir kebanyakan menggunakan kembalian berupa tuple &lt;code class=&quot;highlighter-rouge&quot;&gt;{:ok, hasil}&lt;/code&gt; jika sukses dan tuple &lt;code class=&quot;highlighter-rouge&quot;&gt;{:error, alasan}&lt;/code&gt; jika error pada fungsinya. Contoh kita akan membaca file dengan &lt;code class=&quot;highlighter-rouge&quot;&gt;File.read&lt;/code&gt; &lt;strong&gt;tanpa&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;with&lt;/code&gt; dan yang kedua &lt;strong&gt;dengan&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;with&lt;/code&gt;. Buat file &lt;code class=&quot;highlighter-rouge&quot;&gt;file_read_with.exs&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Kode diatas jika file yang dibaca tidak ada maka akan error, untuk itu kita gunakan &lt;code class=&quot;highlighter-rouge&quot;&gt;with&lt;/code&gt; untuk menangani jika terjadi kondisi error.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Error read file: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reason&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;sekian.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Kita tahu elixir kebanyakan menggunakan kembalian berupa tuple {:ok, hasil} jika sukses dan tuple {:error, alasan} jika error pada fungsinya. Contoh kita akan membaca file dengan File.read tanpa with dan yang kedua dengan with. Buat file file_read_with.exs {:ok, content} = File.read(&quot;hello.txt&quot;) IO.puts content Kode diatas jika file yang dibaca tidak ada maka akan error, untuk itu kita gunakan with untuk menangani jika terjadi kondisi error. with {:ok, item} &amp;lt;- File.read(&quot;hello.txt&quot;) do IO.puts item else {:error, reason} -&amp;gt; IO.puts &quot;Error read file: #{reason}&quot; end sekian.</summary></entry><entry><title type="html">Run command di Elixir</title><link href="http://localhost:4040/elixir/2019/09/01/run-command-di-elixir.html" rel="alternate" type="text/html" title="Run command di Elixir" /><published>2019-09-01T15:00:00+07:00</published><updated>2019-09-01T15:00:00+07:00</updated><id>http://localhost:4040/elixir/2019/09/01/run-command-di-elixir</id><content type="html" xml:base="http://localhost:4040/elixir/2019/09/01/run-command-di-elixir.html">&lt;p&gt;Cara menjalankan command cli di elixir bisa langsung dicoba di&lt;code class=&quot;highlighter-rouge&quot;&gt;iex&lt;/code&gt; atau buat file elixir script(&lt;code class=&quot;highlighter-rouge&quot;&gt;.exs&lt;/code&gt;)&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;iex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ls&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/home/agus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Desktop&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Documents&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Downloads&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Music&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Pictures&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Public&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Templates&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Videos&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Perintah &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd&lt;/code&gt; ini akan mengembalikan koleksi &lt;code class=&quot;highlighter-rouge&quot;&gt;tuple hasil&lt;/code&gt; dan &lt;code class=&quot;highlighter-rouge&quot;&gt;kode exit&lt;/code&gt;. Jika command yang dijalankan tidak ada didalam var &lt;strong&gt;PATH&lt;/strong&gt; maka elixir akan menampilkan error seperti ini:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ErlangError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Erlang&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;error:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:enoent&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;elixir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;ex:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;791&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ls1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/home/agus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Untuk mengolah hasil dari &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd&lt;/code&gt; bisa menggunakan patter matching elixir, kemudian split file menggunakan fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;String.split&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-elixir&quot; data-lang=&quot;elixir&quot;&gt;&lt;span class=&quot;n&quot;&gt;iex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exit_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ls&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/home/agus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;iex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Desktop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Documents&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Downloads&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Music&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Pictures&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Public&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;Templates&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Videos&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Nah setelah displit maka hasilnya sudah berupa &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; dan dapat diproses oleh fungsi lain dengan mudah.&lt;/p&gt;

&lt;p&gt;sekian.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Cara menjalankan command cli di elixir bisa langsung dicoba diiex atau buat file elixir script(.exs) iex(1)&amp;gt; System.cmd(&quot;ls&quot;, [&quot;/home/agus&quot;]) {&quot;Desktop\nDocuments\nDownloads\nMusic\nPictures\nPublic\nTemplates\nVideos\n&quot;, 0} Perintah cmd ini akan mengembalikan koleksi tuple hasil dan kode exit. Jika command yang dijalankan tidak ada didalam var PATH maka elixir akan menampilkan error seperti ini: ** (ErlangError) Erlang error: :enoent (elixir) lib/system.ex:791: System.cmd(&quot;ls1&quot;, [&quot;/home/agus&quot;], []) Untuk mengolah hasil dari cmd bisa menggunakan patter matching elixir, kemudian split file menggunakan fungsi String.split iex(1)&amp;gt; {res, exit_code} = System.cmd(&quot;ls&quot;, [&quot;/home/agus&quot;]) iex(2)&amp;gt; res |&amp;gt; String.split [&quot;Desktop&quot;, &quot;Documents&quot;, &quot;Downloads&quot;, &quot;Music&quot;, &quot;Pictures&quot;, &quot;Public&quot;, &quot;Templates&quot;, &quot;Videos&quot;] Nah setelah displit maka hasilnya sudah berupa list dan dapat diproses oleh fungsi lain dengan mudah. sekian.</summary></entry><entry><title type="html">Menseting dan menggunakan Job Queue pada Yii2</title><link href="http://localhost:4040/yii2/2019/08/31/menseting-dan-menggunakan-jobqueue-yii2.html" rel="alternate" type="text/html" title="Menseting dan menggunakan Job Queue pada Yii2" /><published>2019-08-31T18:30:00+07:00</published><updated>2019-08-31T18:30:00+07:00</updated><id>http://localhost:4040/yii2/2019/08/31/menseting-dan-menggunakan-jobqueue-yii2</id><content type="html" xml:base="http://localhost:4040/yii2/2019/08/31/menseting-dan-menggunakan-jobqueue-yii2.html">&lt;p&gt;Pada Yii2 sudah didukung dengan ektensi job queue yang memungkinkan kita menjalankan tugas secara asynkron via antrian. Job Queue pada yii2 mendukung &lt;strong&gt;DB&lt;/strong&gt;, &lt;strong&gt;Redis&lt;/strong&gt;, &lt;strong&gt;RabbitMQ&lt;/strong&gt;, &lt;strong&gt;AMQP&lt;/strong&gt;, &lt;strong&gt;BeansTalk&lt;/strong&gt;, &lt;strong&gt;ActiveMQ&lt;/strong&gt; dan &lt;strong&gt;Gearman&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Saya hanya akan sedikit berbagi job queue dengan redis sebagai backendnya. Saya list apa-apa yang akan kita lakukan.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Install ektensi yii2-queue&lt;/li&gt;
  &lt;li&gt;Seting queue di web.php dan console.php&lt;/li&gt;
  &lt;li&gt;Membuat klas tugas&lt;/li&gt;
  &lt;li&gt;Menjalankan queue cli&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Pertama kita install dulu ektensi yii2-queue&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php composer.phar require &lt;span class=&quot;nt&quot;&gt;--prefer-dist&lt;/span&gt; yiisoft/yii2-queue&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Kemudian kita perlu memasukan setingan yii2-queue ke file config console dan web&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// masukan pada file web.php dan console.php&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;'components'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'queue'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'class'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\yii\queue\redis\Queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;'as log'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\yii\queue\LogBehavior&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Untuk file &lt;code class=&quot;highlighter-rouge&quot;&gt;console.php&lt;/code&gt; kita juga perlu memasukan queue ke konfig bootstrap seperti ini&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// console.log&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;'bootstrap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'queue'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Langkah berikutnya adalah membuat klas job/tugas yang akan kita kirim ke queue yang harus dipisah menjadi klas. Klas ini wajib mendefinisikan fungsi &lt;code class=&quot;highlighter-rouge&quot;&gt;execute&lt;/code&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;app\jobs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;yii\base\BaseObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DownloadJob&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BaseObject&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\yii\queue\JobInterface&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;file_put_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;file_get_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Setelah kita membuat klas tugas maka kita dapat mengirim tugas dari mana saja seperti dari model, controller, module, view dll. Cara mengirim tugas ke queue seperti berikut ini:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;nx&quot;&gt;Yii&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;\app\jobs\Download&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'url'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://example.com/image.png'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'file'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/tmp/image.png'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Langkah terakhir yang harus dilakukan adalah menjalankan console queue melalui terminal atau bisa dengan membuat service dilinux. cara menjalankan consolenya seperti dibawah. buka terminal lalu masuk ke folder dimana yii/yii.bat berada.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# jalankan semua queue dan exit setelah tidak ada queue&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;yii queue/run &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# jalankan semua queue dan loop&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;yii queue/listen &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Dengan adanya job queue akan mengurangi beban webserver dalam memproses request dan job queue tidak terkena timeout dari php. Contoh kasusnya bisa untuk mengirim email ke user secara masal atau mengenerate file xls yang jumlah barisnya ribuan atau pekerjaan yang sifatnya logging.&lt;/p&gt;</content><author><name>Agus Susilo</name></author><summary type="html">Pada Yii2 sudah didukung dengan ektensi job queue yang memungkinkan kita menjalankan tugas secara asynkron via antrian. Job Queue pada yii2 mendukung DB, Redis, RabbitMQ, AMQP, BeansTalk, ActiveMQ dan Gearman. Saya hanya akan sedikit berbagi job queue dengan redis sebagai backendnya. Saya list apa-apa yang akan kita lakukan. Install ektensi yii2-queue Seting queue di web.php dan console.php Membuat klas tugas Menjalankan queue cli Pertama kita install dulu ektensi yii2-queue $ php composer.phar require --prefer-dist yiisoft/yii2-queue Kemudian kita perlu memasukan setingan yii2-queue ke file config console dan web // masukan pada file web.php dan console.php ... 'components' =&amp;gt; [ 'queue' =&amp;gt; [ 'class' =&amp;gt; \yii\queue\redis\Queue::class, 'as log' =&amp;gt; \yii\queue\LogBehavior::class, ], ], ... Untuk file console.php kita juga perlu memasukan queue ke konfig bootstrap seperti ini // console.log ... 'bootstrap' =&amp;gt; [ 'queue', ], ... Langkah berikutnya adalah membuat klas job/tugas yang akan kita kirim ke queue yang harus dipisah menjadi klas. Klas ini wajib mendefinisikan fungsi execute. &amp;lt;?php namespace app\jobs; use yii\base\BaseObject; class DownloadJob extends BaseObject implements \yii\queue\JobInterface { public $url; public $file; public function execute($queue) { file_put_contents($this-&amp;gt;file, file_get_contents($this-&amp;gt;url)); } } Setelah kita membuat klas tugas maka kita dapat mengirim tugas dari mana saja seperti dari model, controller, module, view dll. Cara mengirim tugas ke queue seperti berikut ini: Yii::$app-&amp;gt;queue-&amp;gt;push(new \app\jobs\Download([ 'url' =&amp;gt; 'https://example.com/image.png', 'file' =&amp;gt; '/tmp/image.png' ])); Langkah terakhir yang harus dilakukan adalah menjalankan console queue melalui terminal atau bisa dengan membuat service dilinux. cara menjalankan consolenya seperti dibawah. buka terminal lalu masuk ke folder dimana yii/yii.bat berada. # jalankan semua queue dan exit setelah tidak ada queue $ yii queue/run -v # jalankan semua queue dan loop $ yii queue/listen -v Dengan adanya job queue akan mengurangi beban webserver dalam memproses request dan job queue tidak terkena timeout dari php. Contoh kasusnya bisa untuk mengirim email ke user secara masal atau mengenerate file xls yang jumlah barisnya ribuan atau pekerjaan yang sifatnya logging.</summary></entry></feed>